(function(){var e;e=StyleBuilder.register("StyleBuilder.Model"),e["extends"]("Luca.Model"),e.register()}).call(this),function(){var e;e=StyleBuilder.register("StyleBuilder.Collection"),e["extends"]("Luca.Collection"),e.defines({model:StyleBuilder.Model})}.call(this),function(){var e;e=StyleBuilder.register("StyleBuilder.models.ComponentExample"),e["extends"]("StyleBuilder.Model"),e.configuration({defaults:{id:"component-example",name:"Component Example",description:"A Component Example is some sample markup which demonstrates the effect of having a certain combination of one or more CSS classes applied to it",markup_content:".component-example\n  h5 This is what a component might look like",style_content:".component-example\n  color: #333\n  background-color: #e3e3e3",markup_content_asset_name:"component-example.jst.skim",style_content_asset_name:"component-example.css.sass"}}),e.publicMethods({compilationPayload:function(e,t){var n,r;return StyleBuilder.config.prefixStyleContentWithVariables!=null==1?e:(n=SBApp.collectionManager.get("colors"),r=t.match(/css/i)?""+n.generateSassFileContents()+"\n\n"+e:e)},markupContent:function(){var e;return e=this.get("markup_content"),_.isArray(e)?e.join(""):e},styleContent:function(){var e;return e=this.get("style_content"),_.isArray(e)?e.join(""):e}}),e.register()}.call(this),function(){var e;e=StyleBuilder.register("StyleBuilder.collections.ComponentExamples"),e["extends"]("StyleBuilder.Collection"),e.defines({model:StyleBuilder.models.ComponentExample,fetch:function(){var e;return e=StyleBuilder.collections.ComponentExamples.testData,this.reset(e)}})}.call(this),function(){var e,t;t="// Edit this using SASS\n.card.elegant\n  background-color: #fff\n  padding: 20px 0px 40px 10px\n  border-radius: 3px\n  box-shadow: 0 0 6px rgba(0,0,0,0.3)\n  margin: 10px 0px\n  p\n    line-height: 32px\n  header\n    font-weight: bold\n    font-size: 24px\n\n.preview-canvas[data-active-example='elegant-card']\n  background-color: beige\n  padding: 20px",e=".card.elegant\n  header An Elegant Card\n  p Go ahead and edit the content of the markup code or the stylesheet in the editors below.\n  p Be amazed as it updates before your eyes.\n\n.row-fluid\n  .span4\n    .card.elegant\n      header\n        | Use It However\n      p you can make whatever\n  .span4\n    .card.elegant\n      header\n        | Use It However\n      p it is all up to you baby.\n  .span4\n    .card.elegant\n      header\n        | Use It However\n      p show off your style chops",StyleBuilder.collections.ComponentExamples.testData=[{id:"elegant-card",name:"Elegant Card",markup_content:e,style_content:t,style_content_asset_name:"elegant-card.css.sass",markup_content_asset_name:"elegant-card.jst.skim",description:"An elegant card description, when you would use it, where it is appropriate, etc"}]}.call(this),function(){var e;e=StyleBuilder.register("StyleBuilder.models.Color"),e["extends"]("StyleBuilder.Model"),e.defines({defaults:{name:"Color Name",value:"#e3e3e3",variable:"$colorName"}})}.call(this),function(){var e;e=StyleBuilder.register("StyleBuilder.collections.Colors"),e["extends"]("StyleBuilder.Collection"),e.defines({model:StyleBuilder.models.Color,fetch:function(){return this.reset(StyleBuilder.collections.Colors.defaults)},importFromSassFileContents:function(e){var t,n,r,i,s,o,u,a,f,l,c,h;e==null&&(e=""),r=e.split("\n"),s=[];for(t=a=0,f=r.length;a<f;t=++a)n=r[t],n.match(/\/\/\ \w+/)&&((l=r[t+1])!=null?l.match(/^\$/):void 0)&&(i=n.split(" ")[1],h=(c=r[t+1])!=null?c.split(":"):void 0,u=h[0],o=h[1],s.push({name:i,value:o,variable:u}));return this.reset(s)},generateSassFileContents:function(){var e,t,n,r,i,s;return e=function(){var e,o,u,a,f;u=this.models,f=[];for(e=0,o=u.length;e<o;e++)n=u[e],a=n.attributes,r=a.name,i=a.value,s=a.variable,s.match(/^\$/)||(s="$"+s),t="// "+r+"\n",f.push(t+=""+s+": "+i);return f}.call(this),e.join("\n")},generateJSONFileContents:function(){var e,t,n;return e=function(){var e,t,r,i;r=this.models,i=[];for(e=0,t=r.length;e<t;e++)n=r[e],i.push(_(n.attributes).pick("name","value","variable"));return i}.call(this),t=JSON.stringify(e),"StyleBuilder.collections.Colors.defaults = "+t},exportToVariables:function(e){return $.ajax({type:"POST",url:StyleBuilder.config.asset_compilation_url,data:JSON.stringify({path:StyleBuilder.config.paletteFileJsonLocation,contents:this.generateJSONFileContents()})}),$.ajax({type:"POST",url:StyleBuilder.config.asset_compilation_url,success:e,data:JSON.stringify({path:StyleBuilder.config.paletteFileSassLocation,contents:this.generateSassFileContents()})})}}),StyleBuilder.config.paletteFileSassLocation="source/stylesheets/examples/color_palette.css.sass",StyleBuilder.config.paletteFileJsonLocation="source/javascripts/styleguide-builder/data/colors/palette.js"}.call(this),StyleBuilder.collections.Colors.defaults=[{name:"Main",value:"#000000",variable:"$main"},{name:"Alternate",value:"#35ab86",variable:"$alternate"},{name:"Boom",value:"#9a3b3b",variable:"$boom"}],function(){}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};StyleBuilder.CollectionManager=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialCollections=["colors","component_examples"],n}(Luca.CollectionManager)}.call(this);