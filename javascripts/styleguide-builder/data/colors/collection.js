(function(){var e;e=StyleBuilder.register("StyleBuilder.collections.Colors"),e["extends"]("StyleBuilder.Collection"),e.defines({model:StyleBuilder.models.Color,fetch:function(){return this.reset(StyleBuilder.collections.Colors.defaults)},importFromSassFileContents:function(e){var t,n,r,i,s,o,u,a,f,l,c,h;e==null&&(e=""),r=e.split("\n"),s=[];for(t=a=0,f=r.length;a<f;t=++a)n=r[t],n.match(/\/\/\ \w+/)&&((l=r[t+1])!=null?l.match(/^\$/):void 0)&&(i=n.split(" ")[1],h=(c=r[t+1])!=null?c.split(":"):void 0,u=h[0],o=h[1],s.push({name:i,value:o,variable:u}));return this.reset(s)},generateSassFileContents:function(){var e,t,n,r,i,s;return e=function(){var e,o,u,a,f;u=this.models,f=[];for(e=0,o=u.length;e<o;e++)n=u[e],a=n.attributes,r=a.name,i=a.value,s=a.variable,s.match(/^\$/)||(s="$"+s),t="// "+r+"\n",f.push(t+=""+s+": "+i);return f}.call(this),e.join("\n")},generateJSONFileContents:function(){var e,t,n;return e=function(){var e,t,r,i;r=this.models,i=[];for(e=0,t=r.length;e<t;e++)n=r[e],i.push(_(n.attributes).pick("name","value","variable"));return i}.call(this),t=JSON.stringify(e),"StyleBuilder.collections.Colors.defaults = "+t},exportToVariables:function(e){return $.ajax({type:"POST",url:StyleBuilder.config.asset_compilation_url,data:JSON.stringify({path:StyleBuilder.config.paletteFileJsonLocation,contents:this.generateJSONFileContents()})}),$.ajax({type:"POST",url:StyleBuilder.config.asset_compilation_url,success:e,data:JSON.stringify({path:StyleBuilder.config.paletteFileSassLocation,contents:this.generateSassFileContents()})})}}),StyleBuilder.config.paletteFileSassLocation="source/stylesheets/examples/color_palette.css.sass",StyleBuilder.config.paletteFileJsonLocation="source/javascripts/styleguide-builder/data/colors/palette.js"}).call(this);